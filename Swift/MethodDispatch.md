# Method Dispatch

> 클래스/프로토콜의 메서드가 실행되는 방식(Method Dispatch)에 대한 이해

함수 -> CPU가 실행될 수 있는 형태의 명령어
코드는 코드, 데이터, 힙, 스택 중 **코드 영역에만 존재**하고 이를 실행시키려면 메서드의 **메모리 주소**가 필요함. 어떤 메서드를 어떻게 실행시키는지?
## Swift가 메서드를 실행시키는 방법 3가지

### 1. Direct Dispatch (Static Dispatch)
- 컴파일 타임
- 함수의 메모리 주소 삽입 or 함수의 명령 코드를 해당 위치에 심음(in-line)
- 가장 빠름
- 밸류 타입(구조체/열거형)에 사용
	- 애초에 테이블을 만들 필요 없음
- 상속/다형성의 장점을 누릴 수 없음

### 2. Table Dispatch (Dynamic Dispatch)
- 런타임
- 중간 빠르기
- 클래스/프로토콜에서 사용
	- **클래스 - `Virtual Table`**
		- `final`키워드는 Direct 방식
		- **클래스의 확장**으로 구현한 메서드는 **상속시 재정의 불가 원칙**으로 인해 Direct 방식
	- **프로토콜 - `Witness Table`**
- 함수의 포인터(메모리 주소)를 배열 형태로 보관 후 실행

### 3. Message Dispatch
- 런타임
- Objective-C 클래스에서 주로 사용
- override 되지 않은 메서드는 상위클래스를 다시 찾아감
	- 상속구조를 모두 훑은 뒤에, 실행할 메서드 결정
- 가장 느림
- `@objc dynamic`키워드로 사용 가능
